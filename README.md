# הלומד (HaLomeid)

> A clear, calm, and consistent daily Torah learning experience — without overload, guilt, or enforcement.

**[Live Demo →](https://halomed.vercel.app/)**

<p align="center">
  <img src="docs/screenshots/banner.png" alt="HaLomeid Banner" width="100%" />
</p>

## Overview

HaLomeid is an offline-first daily learning application designed for religious and traditional users who seek a consistent, calm, and meaningful Torah study habit. The app delivers a personalized learning path through the entire Mishnah, enhanced by AI-generated explanations grounded in classical Jewish commentaries.

## Screenshots

<p align="center">
  <img src="docs/screenshots/Screenshot 2026-01-19 at 22.24.51.png" width="250" alt="Learning Path" />
  <img src="docs/screenshots/Screenshot 2026-01-19 at 22.24.04.png" width="250" alt="Study Screen" />
  <img src="docs/screenshots/Screenshot 2026-01-19 at 22.24.14.png" width="250" alt="Expansions" />
</p>

## Features

### Learning Path
- **Full Shas Coverage** — Complete learning path through all of Mishnah
- **Customizable Pace** — Choose from one mishna, two mishnayot, or one chapter per day
- **Visual Progress** — Beautiful timeline showing your journey through the tractates
- **Tractate Celebrations** — Celebrate when you complete each tractate

### Study Experience
- **Source Text** — Original Hebrew Mishnah text displayed prominently
- **AI Explanations** — Clear summaries based on classical commentaries
- **Commentary Summaries** — Expandable sections with multiple interpretive approaches
- **Halakha Sections** — Practical applications where relevant

### Spaced Repetition
- **Review Sessions** — Configurable review intensity (none, light, medium, intensive)
- **Weekly Quizzes** — Every Friday, test your knowledge on the week's learning
- **Multi-Question Quizzes** — Up to 8 questions per quiz, generated by AI

### Technical
- **Offline-First** — Full functionality without internet connection (RxDB + Supabase)
- **PWA Support** — Install on any device like a native app
- **Dark Mode** — Light, dark, and system theme options
- **Hebrew UI** — Full Hebrew interface with RTL support

## Tech Stack

| Layer | Technology |
|-------|------------|
| **Frontend** | Next.js 16, React 19, Tailwind CSS |
| **Database** | Supabase (PostgreSQL) |
| **Sync** | RxDB (offline-first with Supabase replication) |
| **AI** | Google Gemini (explanations & quizzes) |
| **Auth** | Supabase Auth (Anonymous, Google, Apple) |
| **Hosting** | Vercel |
| **Analytics** | PostHog |

## Project Structure

```
halomed/
├── web/                    # Next.js web application
│   ├── app/               # App Router pages
│   ├── components/        # React components
│   └── lib/               # Utilities & hooks
├── supabase/
│   ├── functions/         # Edge Functions (Deno)
│   └── migrations/        # Database migrations
├── docs/                  # PRD & TDD documentation
├── tests/                 # Maestro E2E tests
└── scripts/               # Development scripts
```

## Getting Started

### Prerequisites

- Node.js 18+
- Supabase account

### Installation

```bash
# Clone the repository
git clone https://github.com/orelzion/halomed.git
cd halomed

# Install git hooks (security & TypeScript checks)
./scripts/setup-hooks.sh

# Install web dependencies
cd web
npm install

# Set up environment variables
cp .env.example .env.local
# Edit .env.local with your credentials

# Start development server
npm run dev
```

### Environment Variables

```env
# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# PostHog (optional)
NEXT_PUBLIC_POSTHOG_KEY=your-posthog-key
NEXT_PUBLIC_POSTHOG_HOST=https://us.i.posthog.com
```

## Development

### Git Hooks

The project includes automatic checks:

- **Pre-commit**: Security scanning for secrets and API keys
- **Pre-push**: TypeScript type checking

Install hooks with:
```bash
./scripts/setup-hooks.sh
```

### Deploy Edge Functions

```bash
cd supabase
supabase functions deploy generate-path --use-api --no-verify-jwt
supabase functions deploy generate-quiz --use-api --no-verify-jwt
supabase functions deploy generate-content --use-api --no-verify-jwt
```

### Run Tests

```bash
# E2E tests with Maestro
maestro test tests/maestro/flows/web/

# TypeScript check
cd web && npx tsc --noEmit
```

## Documentation

- **[Product Requirements (PRD)](docs/halomed_prd.md)** — Product vision and features
- **[Technical Design (TDD)](docs/halomed_tdd.md)** — Architecture and implementation details

## Contributing

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## License

This project is private and not open for public use without permission.

## Acknowledgments

- [Hebrew Wikisource (ויקיטקסט)](https://he.wikisource.org/wiki/משנה) — Mishnah source text
- [Sefaria](https://www.sefaria.org/) — Commentaries and Torah texts API
- [RxDB](https://rxdb.info/) — Offline-first reactive database
- [Supabase](https://supabase.com/) — Backend infrastructure
- [Vercel](https://vercel.com/) — Hosting platform

---

<p align="center">
  <b>הַלּוֹמֵד וְאֵינוֹ חוֹזֵר — כְּזוֹרֵעַ וְאֵינוֹ קוֹצֵר</b>
  <br/>
  <sub>סנהדרין צט ע"א</sub>
</p>
